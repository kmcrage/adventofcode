#!/usr/bin/python3

data = '''....#...#####..##.#..##..#....#
..##.#.#.........#.#......##...
#.#.#.##.##...#.......#...#..#.
..##.............#.#.##.....#..
##......#.............#....#...
.....##..#.....##.#.......##..#
.##.....#........##...##.#....#
.##......#.#......#.....#..##.#
##....#..#...#...#...##.#...##.
##........##.#...##......#.#.#.
..#.#........#...##.....#.....#
..#.......####.#....#..#####...
.##..#..#..##.#.....###.#..#...
......###..##.....#.#.#..###.#.
..#.#...#..##.....#....#.#.....
.....#.#...#.###.#..#..........
##.....#...#.#....#..#.#.......
..#...#...#.........##......#..
......#.#...#...#..#...##.#...#
....#.................##.##....
...#......#.............#....##
##..#..#..........#...##.#.#...
....#...##....#..#.#...........
##.#.#.#...#....#........#..#.#
...###..........#...#...#..##.#
..##.......###.#......##.##....
...........#.#....#.....#.#...#
..#......##.#...##.#.#......#.#
..........#.#....#.#..#....#...
##..##...##.......#.#....#.#.##
.##..#.#..#...........#.#...#.#
#......##......#....####.#....#
..###......##...#...#.#.......#
.#.##.##....##..#..##...#......
.#....#..#........#..#.##.#.#..
..#.........#.#.###....###.#...
..#..#.#.#..#..#.##.##...####..
#..#..#......#..#.#....#.#.#.##
..#.........#...#..#.#.#..#...#
#..#......###.....##....##.....
#..#.....#.#.#.##.....##...#.#.
##..#.#...#.........#.#........
#....#.......#.....#..#..#.#...
...###.##.###.###.#####..#...#.
.....#..#.#..##...............#
..#.....###.###.#.....#.#....##
###.#.........#..#.#.#..#.#..#.
.##.........#..#..##....#.#...#
.#...#........#...#.....#....#.
####..........###....#.#.#....#
....##..###....#....#.#...#....
..............##......##..#.###
.#...........###.#.#....#......
###.#..#..#...#.........##.....
..#.....##...#.#.....##...#.##.
.###.#........#..#.#...#.#..##.
.......##....##.........##.#..#
#....#...#...##...#.#..#..#..##
...#...##..#...#...#.#....#.#.#
#.#......#.#...##......#.#...##
.#.###..#.###.#.....#.##.##.#.#
#...#............#...#.##..##..
....#..###.......#.....##....#.
.#####..#.....#.....#...#.....#
..##..#..###.......##.#........
.#...##.##.....#.##...##...#..#
......###...#....#....#........
....#...#.#....#...#.#.#......#
....#..##...##.#..#....###.....
...#...#..#.#...#....#.#..#####
####....#.....#.........#.#....
...###.#.#..#.#..##............
.##..#####..#...#..#..#.......#
.###......#.#.#..#....#.....#..
#....##.##..#.#...............#
...#.#..#........#......#....#.
#.....#....###....#..#.#.#.....
.#..#....#...#.#.....##....#...
..#.##.#.##.#..#.##.#.....#.#..
.......#.......###..###..#...#.
.#.......#..#........#.#.......
.#.#...#.....#.##..##.....#....
#.......##....#......#.....##..
.#.....#...##...#..##.....#....
....#..#.#.......#.#.#.........
..#....#....##.##..#..##.##.#..
.#...#....##...#........#....#.
#.#......#...#....#...........#
.#....#..#..###.#.....#..#.....
..#..................#.....#...
..#...###..#..####.#..#.#.#.#..
...#........##...##..##..#....#
...#.....#........##..#.....#.#
#....#.....##.##......#...##...
...#####....#..##..##...#.#....
###.........#.#..#..#..##.#...#
##...#..##...#.##.#........#...
.#....#.#...#..#...#..#.#......
.#......##.#...#...#..#....#...
#..#.#.#......##.##.####..#....
.#...#.#.##...##.#...#...#.....
####.#.........#...##..##....##
.....###........###.##...#.#...
.##.....#.....#....##.....##...
.#.#...#####....##...##.....#..
....###..........#......##..#.#
..#.....#....#..#...#.....##..#
...##.##.#.######....#.#....##.
...#.#.#...#..#....##.........#
.#.#...##...#....#.#....##.....
...#..#.....#.....#.##.....#...
.#.#.#.....#.##.#....#.#....##.
#...#......###...#..###...#....
...##.#.#..#........##.......#.
.####.####......#........#.....
....#..#####....#......####....
#...##.#..#..#####.#...#......#
#.#....#..#.........###........
.##.........#....#......#.#....
...###.........####.#........##
..#..#........#.#..##......#..#
.##..#....#...##.####.#...#....
......#.......#..#..#.#.##.#...
.###....#.#...#.#.......##..#.#
#...#....#............#####....
...#.##......#####..#........#.
..#...##.....#...#..#.#........
...#.#...#...##...#..#....#....
..#..##.....#....#.#.###.......
.......##..#...#.............##
.....#.....#..##.##.....#......
.....##...#......#..##....#.###
.#...#.#.#.#.##.....##..###..#.
....##..........#.....###......
....#...#.#.#..#.......#....#..
..###...#...........##..###....
...#.##.......#....#....#.#....
##...#..##..#.##..........##..#
.##.....#..#......##..####.#.##
....##..#.#.###......#..#...#..
####..#.#....#...#....###.#.#..
###......#...##.##..#.##..#..#.
..#.#..#.#.#.....#...#..#.####.
.###.#...##...##....##......#.#
..#............#.##..#....#..#.
###.......#......###..#........
....##......###.....#.#..###...
..#...##...#......#..#.........
#..####.#....#.....###....#.#..
.#.#.#.......##....###.........
.......#.##.#####....#.#...####
.#...#....#....#.###..#.....#..
.###.#.#.###.###.#..####.##.#..
....#.........#.#.......##.....
#..#..#.#...........#.#.##..#.#
.#.....#..#...#.....#.##......#
..###.#............#.....####..
#.....##..##...#....####....#..
...#.....#..................#..
....#.###.#..#..#..##..#..##...
...##.#........#......#...##...
#................##....#...#...
..##......##.#.##..#....#.....#
.#..#.....#..........##.#.#....
.....#...####....#..#......#...
..#......###.#.#.#.#.......#..#
.##......#.......#....###.#....
#..#.#.#..#...#.#.##..##..#....
....#...##..#.#......#.##...#..
...###...#.##..#...#....#......
##......#.#...#.#.#.........#..
..#..........#...###.#.##....#.
...##.....#.....#...###..#.....
..####.#.....#.#.....#..#.#....
.#.....##...##.##.#.....#.####.
.......#.....#...##..........#.
.#...#.#....#####....###.#..#.#
.##.##....##...##.#.....#......
#......#.##..#..##.#.#.......#.
.#..#....###..#........##...#..
..#......##.......###..##...#..
.#..........#.#.......##.....#.
....##.....##.#.#.##........##.
..#.#..###..#..##...#.##...#...
.......#.....#..#...#...#.....#
##.#...#.#.#.##........#......#
..###.....##..#....#.......##..
#####..####...#.#..##.#...#..#.
#...####....#........#....#....
.#.#.#..#...##....#.......#.#..
...#....##..##..#..#..#####.###
...#......#.#..#......#...####.
.##.....##.##.#.####.#..##...#.
....#..#..##..##....#....#...##
##.###........#...##....#.....#
..#.#.#.......#....#..#....#...
......##.....##....#...#.....#.
#.#..#.#.......#....#.#.#......
.....###..#...#.....#..##..#...
......###.....#.#.#...#...##..#
.#..#.#....##...#...#........#.
#..###.#...####.#...#..........
.#.##.#..#..##..#..###..##...#.
.......#.#..........#.........#
#......###..##..#....###.......
..#............#.#........#...#
..##.#.............#......#..##
.#....#..#.#..#....###..#...#..
....##....#..##...###....#....#
.#....###.............#........
#..#...#..#....#.##.#.....##...
...........#.....#....#....#...
.##.##.#...#....##......##..##.
......#.#.##.#..##........#...#
....##...##...#...#...#.#......
.#...#....#...#......#.#...#..#
........##.....#.#..#...##..##.
##...#.....#.....####...#..#...
.#.#..##.##......#...#.#...#...
##...##.#......#....#.######.#.
##.....####.###......#.##.#....
.#.##....##........#...#..####.
.......#..#....##...#.#...#..#.
...##..........#..#........#..#
.##.....#...#...#.##.###.......
.##....#...#.#..#.....#...#....
..#...#.....#.####.#.........#.
#...#.##...#.#..#.#..#.###.#..#
.##..#.#.##.........####....###
.#..##........#..#.......#.....
......#.#####.#.........#.#...#
......#....#.#####...........#.
..##....##..#.#..#....#......##
#.#......#.##.#.##....#....#.#.
..#..##.#...#.......##.........
.....##.#...#..........#.......
...#........#..#...#.....##.###
....##.........#...#.#.....#...
.......#.#....#...#.......#...#
.#..#...##....#..#...........#.
.#....##.##.#..#..####.#.#.....
.##........#.....#..#......##..
.#..##......#......#..##..#....
###.....##.......#..##.#.......
.....##......#.#...##...##.....
.##....##..#..#####...#...#.##.
##...##.#....##.#.#.#....##....
.#.....#...#......#......##....
##.#............#...#....#.....
#..#.....#.....##.##.##..#..##.
......#..............#..#...#.#
....#.#....##......#..#...#....
.#...#..#...#......#..##....#.#
.....#......#..##...#.#....#...
#...............#.##..#......#.
.....#..##.#..#.#...###.....#..
...#..#..#...#....#..#..##.#...
.#...#...#..#......##...#......
....###............#.#.#....#..
#.#...#..#..#.#....#........#..
....#.#.#..#..#....#..#...##.#.
.#....#.#...#....#......#.#...#
##..#.#.#..#.....#...###....#.#
.##.....#.#...#..........#..#.#
#....#......#....#.#.#...#.....
#.#.....#.###.......#..#..#.#..
#.....##..#.###...#...##...#.##
.#.##....#.#.....##......###...
.#.......##................#...
.........#........####......#..
...##.###..#.....#.#.....##.#..
..#....#.#.#.##..........#.....
#..##.....#.............##.....
.##...#..#.......#.......#..#..
...#.................#......##.
....#....#.....#..###.#....###.
..#.#..#...#..#.....###....#.#.
.....###...#....#....#.#.##..##
...#...#.........####........#.
.......#..##.........#.........
.#......##.....#.#####...##....
....#.###...#.#....##..#......#
.##..#....#.#....#..#.###.....#
..#...#.#...#.##.....#.#....##.
#.#.#.#.....##...#.#..##..#....
.#............#.#.#..#...#...#.
...##.#..#..####.#.###..##.....
.##.....#.......#..##.#...##.#.
#.#...#..#.##...##...####..#..#
...##.......#.#.#.#.#.#...#..##
...#.#.##..##..............###.
.....#...#........#...#......#.
..#..#..##....#..##.#.....#....
#.....##........#.........##.#.
###..#....#.##..##.............
.#..#...#.#......#..#..##.....#
...#.#.#............##........#
..#.#....#..#....##....#...##.#
...##...#...#..........##.#####
....#..#.#.......##....#.#.###.
##..#..#..#...###.#.....#......
....###.#.#.#.##..##.#...#.....
.....####..#.#..#.#......#.#.#.
#.....#...#..#.#.........#..#..
.##....#.#.####......##..#..##.
......#.##.#.#..#..#....#.#....
.#..#...#...#...#..#.....#.....
..##.#..............#......#...
.....###.##.......#.....#..#...
..#.#..#..#.......#...##.##..#.
##.###......#......#.#..#..##..
..##.....#..#..#......#..#.....
...##.......#.#..#.........#.#.
......##.##.#.......#..#.#.....
#......#........##..#.......#.#
###....#...#...#.#...#..#..#...
#..###....#....####..#...#.....
....##..#.##.#....#..##...#.#..
#.##..#....##..#...#..#.#.#..#.
#.........#.....#...#.......#..
...#.....#.#.....#........##...
..#.##..#......#...#.....##.#..
...###....#.....#...#..#.##..#.'''



mp = data.split('\n')
width = len(mp[0])

#offset = (1, 3)
product = 1
for offset in [(1, 1), (1, 3), (1, 5), (1, 7), (2, 1)]:
    coords = [0, 0]
    trees = 0
    while coords[0] < len(mp):
        if mp[coords[0]][coords[1]] == '#':
            trees += 1
        coords[0] += offset[0]
        coords[1] = (coords[1] + offset[1]) % width
    print('trees:', trees)
    product *= trees
print('product:', product)
